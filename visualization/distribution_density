#Visualize the data distribution in density

import numpy as np
import pandas as pd
from scipy import stats
import matplotlib.pyplot as plt
import seaborn as sns

def plot_line_remove_ytick(col:str, df:pd.DataFrame):
    '''
    plot data distribution density

    Param:
        col: str
        df: pd.DataFrame

    Return:
        ax: plt.axes
    '''

    assert isinstance(col, str), 'invalid col name'
    assert isinstance(df, pd.DataFrame), 'invalid dataframe'

    ax = sns.kdeplot(x = df.loc[df.Attrition == 0][col], label = "Still Employed", color = "steelblue")
    ax = sns.kdeplot(x = df.loc[df.Attrition == 1][col], label = "Left Company", color = "red")
    min_val=min(df[col])
    max_val=max(df[col])
    ax.set_title('{} comparison among two groups'.format(col))
    ax.set_xlabel(col)
    ax.set_xlim(min_val,max_val)
    ax.set(yticklabels=[])
    ax.legend()
    ax.spines['right'].set_visible(False)
    ax.spines['top'].set_visible(False)
    return ax

df = pd.read_csv('./data/preprocessed/HR_Employee_Attrition.csv')

plot_line_remove_ytick('Age', df)
plot_line_remove_ytick('MonthlyIncome', df)
plot_line_remove_ytick('DistanceFromHome', df)
plot_line_remove_ytick('TotalWorkingYears', df)